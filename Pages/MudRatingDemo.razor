@page "/components/rating"
@using MudBlazor

<MudGrid GutterSize="GutterSize.Small">
    <!-- Controls -->
    <MudItem xs="12" md="6" lg="4">
        <MudPaper Class="pa-3">
            <MudText Typo="Typo.h6" Class="mb-2">Controls</MudText>

            <MudNumericField T="int" Label="Max value" @bind-Value="max" Min="1" Class="mb-2" />

            <MudNumericField T="int" Label="Selected value" @bind-Value="selected" Min="0" Max="@max" Class="mb-2" />

            <MudSelect T="Color" Label="Color" @bind-Value="color" Class="mb-2">
                <MudSelectItem Value="Color.Default" />
                <MudSelectItem Value="Color.Primary" />
                <MudSelectItem Value="Color.Secondary" />
                <MudSelectItem Value="Color.Info" />
                <MudSelectItem Value="Color.Success" />
                <MudSelectItem Value="Color.Warning" />
                <MudSelectItem Value="Color.Error" />
                <MudSelectItem Value="Color.Dark" />
            </MudSelect>

            <!-- NEW: Size dropdown -->
            <MudSelect T="Size" Label="Size" @bind-Value="size" Class="mb-2">
                <MudSelectItem Value="Size.Small" />
                <MudSelectItem Value="Size.Medium" />
                <MudSelectItem Value="Size.Large" />
            </MudSelect>

            <MudSwitch Color="Color.Primary" @bind-Value="useHearts">Use hearts</MudSwitch>
            <MudSwitch Color="Color.Primary" @bind-Value="readOnly">Read only</MudSwitch>
            <MudSwitch Color="Color.Primary" @bind-Value="disabled">Disabled</MudSwitch>

            <MudStack Row Spacing="2" Class="mt-3">
                <MudButton Variant="Variant.Outlined" OnClick="@(() => selected = 0)">Clear</MudButton>
                <MudButton Variant="Variant.Outlined" OnClick="@(() => selected = max)">Max</MudButton>
            </MudStack>
        </MudPaper>
    </MudItem>

    <!-- Live demo -->
    <MudItem xs="12" md="6" lg="4">
        <MudPaper Class="pa-3 d-flex flex-column align-center">
            <MudText Typo="Typo.h6" Class="mb-3">Live preview</MudText>

            <MudRating MaxValue="@max"
                       @bind-SelectedValue="@selected"
                       Color="@color"
                       Size="@size"
                       ReadOnly="@readOnly"
                       Disabled="@disabled"
                       FullIcon="@fullIcon"
                       EmptyIcon="@emptyIcon" />

            <MudText Class="mt-2" Typo="Typo.body2">
                Selected: <b>@selected</b> / @max
            </MudText>
        </MudPaper>
    </MudItem>

    <!-- Presets -->
    <MudItem xs="12" lg="4">
        <MudPaper Class="pa-3">
            <MudText Typo="Typo.h6" Class="mb-2">Presets</MudText>

            <MudStack Spacing="2">
                <div>
                    <MudText Typo="Typo.subtitle2">Stars (Primary)</MudText>
                    <MudRating MaxValue="5" SelectedValue="4" Color="Color.Primary"
                               FullIcon="@Icons.Material.Filled.Star"
                               EmptyIcon="@Icons.Material.Outlined.StarOutline"
                               Size="Size.Medium"
                               ReadOnly="true" />
                </div>

                <div class="mt-3">
                    <MudText Typo="Typo.subtitle2">Hearts (Success)</MudText>
                    <MudRating MaxValue="5" SelectedValue="5" Color="Color.Success"
                               FullIcon="@Icons.Material.Filled.Favorite"
                               EmptyIcon="@Icons.Material.Outlined.FavoriteBorder"
                               Size="Size.Large"
                               ReadOnly="true" />
                </div>

                <div class="mt-3">
                    <MudText Typo="Typo.subtitle2">Disabled</MudText>
                    <MudRating MaxValue="10" SelectedValue="7" Color="Color.Info" Disabled="true"
                               FullIcon="@Icons.Material.Filled.Star"
                               EmptyIcon="@Icons.Material.Outlined.StarOutline"
                               Size="Size.Small" />
                </div>
            </MudStack>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    // state
    private int max = 5;
    private int selected = 3;
    private Color color = Color.Primary;
    private Size size = Size.Medium;   // NEW: bound to the dropdown
    private bool readOnly;
    private bool disabled;
    private bool useHearts;

    // icons
    private string fullIcon  => useHearts ? Icons.Material.Filled.Favorite        : Icons.Material.Filled.Star;
    private string emptyIcon => useHearts ? Icons.Material.Outlined.FavoriteBorder: Icons.Material.Outlined.StarOutline;
}
